{% extends "base.html" %}

{% block content %}
<div class="wiki-container">
    <!-- Wiki Header -->
    <div class="wiki-header">
        <h1>Wormhole Queue System - Wiki</h1>
        <p class="subtitle">Comprehensive guide and documentation for the queue management system</p>
    </div>

    <!-- Search Bar -->
    <div class="wiki-search-section">
        <input 
            type="text" 
            id="wikiSearch" 
            class="wiki-search-input" 
            placeholder="Search wiki articles..."
        >
    </div>

    <div class="wiki-content">
        <!-- Sidebar Navigation -->
        <aside class="wiki-sidebar">
            <nav class="wiki-nav">
                <h3>Documentation</h3>
                <ul class="wiki-nav-list">
                    <li><a href="#getting-started" class="nav-link">Getting Started</a></li>
                    <li><a href="#user-guide" class="nav-link">User Guide</a></li>
                    <li><a href="#queue-management" class="nav-link">Queue Management</a></li>
                    <li><a href="#ticket-system" class="nav-link">Ticket System</a></li>
                    <li><a href="#admin-features" class="nav-link">Admin Features</a></li>
                    <li><a href="#account-settings" class="nav-link">Account Settings</a></li>
                    <li><a href="#troubleshooting" class="nav-link">Troubleshooting</a></li>
                    <li><a href="#faq" class="nav-link">FAQ</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="wiki-main">
            <!-- Getting Started Section -->
            <section id="getting-started" class="wiki-section">
                <h2>Getting Started</h2>
                <p>Welcome to the Wormhole Queue System wiki! This guide will help you get up and running with our queue management platform.</p>
                
                <h3>What is Wormhole?</h3>
                <p>Wormhole is a queue management system designed to streamline the process of managing customer wait times and service queues. Whether you're managing hardware support, customer service, or resource allocation, Wormhole provides the tools you need.</p>
                
                <h3>Creating Your Account</h3>
                <p>To get started, create an account by clicking the "Register" button on the login page. Provide your email address and a secure password.</p>
            </section>

            <!-- User Guide Section -->
            <section id="user-guide" class="wiki-section">
                <h2>User Guide</h2>
                
                <h3>Logging In</h3>
                <p>Enter your email and password on the login page to access your account.</p>
                
                <h3>Dashboard Overview</h3>
                <p>Upon login, you'll see your personal dashboard with:</p>
                <ul>
                    <li>Current ticket status</li>
                    <li>Queue position</li>
                    <li>Recent ticket history</li>
                    <li>Account settings access</li>
                </ul>
            </section>

            <!-- Queue Management Section -->
            <section id="queue-management" class="wiki-section">
                <h2>Queue Management</h2>
                
                <h3>Viewing the Live Queue</h3>
                <p>The live queue page shows real-time information about the current queue status, estimated wait times, and active tickets being served.</p>
                
                <h3>Queue Statistics</h3>
                <p>Monitor key metrics including:</p>
                <ul>
                    <li>Total tickets in queue</li>
                    <li>Average wait time</li>
                    <li>Service completion rate</li>
                    <li>Peak busy hours</li>
                </ul>
            </section>

            <!-- Ticket System Section -->
            <section id="ticket-system" class="wiki-section">
                <h2>Ticket System</h2>
                
                <h3>Creating a Ticket</h3>
                <p>To create a new ticket:</p>
                <ol>
                    <li>Click "Create Ticket" from your dashboard</li>
                    <li>Select the service or queue type you need</li>
                    <li>Provide any relevant details about your request</li>
                    <li>Submit to join the queue</li>
                </ol>
                
                <h3>Ticket Status</h3>
                <p>Track your ticket status with these states:</p>
                <ul>
                    <li><strong>Pending:</strong> Waiting to be served</li>
                    <li><strong>In Progress:</strong> Currently being served</li>
                    <li><strong>Completed:</strong> Service finished</li>
                    <li><strong>Cancelled:</strong> Ticket was cancelled</li>
                </ul>
            </section>

            <!-- Admin Features Section -->
            <section id="admin-features" class="wiki-section">
                <h2>Admin Features</h2>
                
                <h3>Managing Users</h3>
                <p>Administrators can view, manage, and monitor all user accounts in the system.</p>
                
                <h3>Queue Control</h3>
                <p>Admin users have access to:</p>
                <ul>
                    <li>View all queues and tickets</li>
                    <li>Manually adjust ticket priority</li>
                    <li>Close/cancel tickets</li>
                    <li>Generate queue reports</li>
                </ul>
                
                <h3>Hardware Management</h3>
                <p>View and manage available hardware resources and their queue assignments.</p>
            </section>

            <!-- Account Settings Section -->
            <section id="account-settings" class="wiki-section">
                <h2>Account Settings</h2>
                
                <h3>Updating Your Profile</h3>
                <p>Access your account settings to update personal information and preferences.</p>
                
                <h3>Changing Your Password</h3>
                <p>For security, change your password regularly through the Account Settings page.</p>
                
                <h3>Resetting Forgotten Password</h3>
                <p>If you forget your password, use the "Reset Password" link on the login page to receive a password reset email.</p>
            </section>

            <!-- Troubleshooting Section -->
            <section id="troubleshooting" class="wiki-section">
                <h2>Troubleshooting</h2>
                
                <h3>Common Issues</h3>
                
                <h4>Can't Log In?</h4>
                <p>Verify that your email and password are correct. If you've forgotten your password, use the password reset feature.</p>
                
                <h4>Ticket Not Appearing?</h4>
                <p>Refresh the page or clear your browser cache. If the issue persists, contact support.</p>
                
                <h4>Queue Not Loading?</h4>
                <p>Check your internet connection and ensure you're using a supported browser.</p>
            </section>

            <!-- FAQ Section -->
            <section id="faq" class="wiki-section">
                <h2>Frequently Asked Questions</h2>
                
                <div class="faq-item">
                    <h4>How long will I wait in queue?</h4>
                    <p>Estimated wait times are displayed on the live queue page and updated regularly based on current service rates.</p>
                </div>
                
                <div class="faq-item">
                    <h4>Can I cancel my ticket?</h4>
                    <p>Yes, you can cancel pending tickets from your dashboard or ticket details page.</p>
                </div>
                
                <div class="faq-item">
                    <h4>Is there a mobile app?</h4>
                    <p>Currently, Wormhole is web-based and accessible from any modern browser on mobile devices.</p>
                </div>
                
                <div class="faq-item">
                    <h4>How is my data protected?</h4>
                    <p>We use industry-standard encryption and security practices to protect your personal information.</p>
                </div>
            </section>

            <!-- Back to Top Link -->
            <div class="wiki-footer">
                <a href="#" class="back-to-top">Back to Top</a>
            </div>
        </main>
    </div>
</div>

<style>
    .wiki-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .wiki-header {
        text-align: center;
        margin-bottom: 30px;
        padding: 20px 0;
        border-bottom: 2px solid #e0e0e0;
    }

    .wiki-header h1 {
        margin: 0;
        font-size: 2.5em;
        color: #333;
    }

    .wiki-header .subtitle {
        color: #666;
        font-size: 1.1em;
        margin-top: 10px;
    }

    .wiki-search-section {
        margin-bottom: 30px;
        text-align: center;
    }

    .wiki-search-input {
        width: 100%;
        max-width: 500px;
        padding: 12px 16px;
        font-size: 1em;
        border: 2px solid #ddd;
        border-radius: 4px;
        transition: border-color 0.3s;
    }

    .wiki-search-input:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    }

    .wiki-content {
        display: flex;
        gap: 30px;
        margin-top: 20px;
    }

    .wiki-sidebar {
        flex: 0 0 250px;
    }

    .wiki-nav h3 {
        margin-top: 0;
        font-size: 1.3em;
        color: #333;
        padding-bottom: 10px;
        border-bottom: 2px solid #007bff;
    }

    .wiki-nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .wiki-nav-list li {
        margin-bottom: 8px;
    }

    .wiki-nav-list .nav-link {
        text-decoration: none;
        color: #007bff;
        padding: 8px 12px;
        display: block;
        border-radius: 4px;
        transition: all 0.3s;
    }

    .wiki-nav-list .nav-link:hover {
        background-color: #f0f0f0;
        padding-left: 16px;
    }

    .wiki-main {
        flex: 1;
        min-width: 0;
    }

    .wiki-section {
        margin-bottom: 40px;
        padding-bottom: 30px;
        border-bottom: 1px solid #e0e0e0;
    }

    .wiki-section:last-of-type {
        border-bottom: none;
    }

    .wiki-section h2 {
        font-size: 2em;
        color: #333;
        margin-top: 0;
        margin-bottom: 20px;
    }

    .wiki-section h3 {
        font-size: 1.4em;
        color: #444;
        margin-top: 20px;
        margin-bottom: 10px;
    }

    .wiki-section h4 {
        font-size: 1.1em;
        color: #555;
        margin-top: 15px;
        margin-bottom: 8px;
    }

    .wiki-section p {
        line-height: 1.6;
        color: #555;
        margin-bottom: 15px;
    }

    .wiki-section ul,
    .wiki-section ol {
        margin-left: 20px;
        line-height: 1.8;
        color: #555;
    }

    .wiki-section li {
        margin-bottom: 8px;
    }

    .faq-item {
        background-color: #f9f9f9;
        padding: 15px;
        border-left: 4px solid #007bff;
        margin-bottom: 15px;
        border-radius: 4px;
    }

    .faq-item h4 {
        margin-top: 0;
    }

    .faq-item p {
        margin-bottom: 0;
    }

    .wiki-footer {
        text-align: center;
        margin-top: 40px;
        padding-top: 20px;
        border-top: 2px solid #e0e0e0;
    }

    .back-to-top {
        color: #007bff;
        text-decoration: none;
        padding: 8px 16px;
        border: 1px solid #007bff;
        border-radius: 4px;
        transition: all 0.3s;
    }

    .back-to-top:hover {
        background-color: #007bff;
        color: white;
    }

    @media (max-width: 768px) {
        .wiki-content {
            flex-direction: column;
        }

        .wiki-sidebar {
            flex: 1;
        }

        .wiki-header h1 {
            font-size: 1.8em;
        }

        .wiki-section h2 {
            font-size: 1.5em;
        }
    }
</style>

<script>
    // Search functionality
    document.getElementById('wikiSearch').addEventListener('keyup', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        const sections = document.querySelectorAll('.wiki-section');
        
        sections.forEach(section => {
            const text = section.textContent.toLowerCase();
            section.style.display = text.includes(searchTerm) ? 'block' : 'none';
        });
    });

    // Smooth scroll for navigation links
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const target = document.querySelector(targetId);
            if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });

    // Back to top functionality
    document.querySelector('.back-to-top').addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
</script>
{% endblock %}